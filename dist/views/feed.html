<div ng-controller="MainCtrl"> <div ng-cloak class="query-details row"> <div class="col-sm-12 col-xs-12"> <div class="origin"> {{query.origin}} </div> <div class="arrows"> <i class="fa fa-chevron-down"></i> </div> <div class="destination"> {{query.destination}} </div> </div> </div> <div ng-if="routeStatus != 'OK'" class="route-card"> <div class="row times"> <div class="col-sm-8 col-xs-8 col-sm-offset-2 col-xs-offset-2"> <h4 style="text-align: center">Something went wrong!</h4> </div> <div class="col-sm-10 col-xs-10 col-sm-offset-1 col-xs-offset-1"> <h6 style="font-weight: 200">Google Says: {{routeStatus}}</h6> <br> <p>Data is generated using the Google Transit API.</p> <p>In order for BusFeed to work, Google needs to support public transport directions within the search area. You can check this by trying the same query on the <a href="maps.google.com/transit">Google Tranit App.</a></p> <p>If you still think there is something wrong with BusFeed, submit an issue on the <a href="https://github.com/ZeevG/BusFeed">projects GitHub page.</a></p> </div> </div> </div> <div class="route-card" ng-repeat="route in routes track by route.md5"> <div ng-repeat="leg in route.legs"> <div class="row times"> <div class="col-sm-8 col-xs-8 col-sm-offset-1"> <h4>{{leg.departure_time.text}} - {{leg.arrival_time.text}}</h4> </div> <div class="col-sm-2 col-xs-4"> <h4 class="align-right">{{leg.duration.text}}</h4> </div> </div> <div class="row"> <div class="col-xs-8 col-sm-6 col-sm-offset-1 icon-steps" ng-bind-html="leg.steps | iconise_steps"> </div> <div ng-controller="TimeCtrl" class="col-xs-4 col-sm-4 arrival-mins"> <h4 class="align-right"> <span class="future" ng-if="leg.departure_time.value.getTime() > clock">Leaves <span class="align-right" am-time-ago="leg.departure_time.value.getTime()/1000"></span> </span> <span class="past" ng-if="leg.departure_time.value.getTime() < clock">Left <span class="align-right" am-time-ago="leg.departure_time.value.getTime()/1000"></span> </span> </h4> </div> </div> <div class="row"> <div class="route-steps col-sm-10 col-xs-12 col-sm-offset-1"> <ol ng-class="{expand: route.detailsVisible}"> <li class="route-step" ng-repeat="step in leg.steps"> {{step.instructions}} <p ng-if="route.detailsVisible" class="route-details">{{step.distance.text}} / {{step.duration.text}}</p> </li> </ol> </div> </div> <div class="row"> <div ng-if="route.detailsVisible" class="map route-details col-sm-12"> <ui-gmap-google-map center="route.center" zoom="10" draggable="false" pan="true" options="{scrollwheel: false}"> <ui-gmap-polyline path="route.overview_path" stroke="{color: '#6060FB', weight: 6}" static="true" fit="true"> <ui-gmap-polyline path="route.overview_path" stroke="{color: '#7EC0EE', weight: 8}" static="true"> </ui-gmap-polyline> </ui-gmap-polyline></ui-gmap-google-map> </div> </div> <div class="row"> <div class="col-sm-4 col-xs-4 col-sm-offset-4 col-xs-offset-4"> <div class="more-details"> <a ng-if="!route.detailsVisible" ng-click="toggleDetails($parent.$parent.$index)">More Details</a> <a ng-if="route.detailsVisible" ng-click="toggleDetails($parent.$parent.$index)"></a> <!-- Not Allowing Close at this point --> </div> </div> </div> </div> </div> </div>